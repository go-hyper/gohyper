<form class="gh-form" role="form" name="quoteForm" ng-controller="EditQuoteController">

  <div class="form-group text-muted" ng-if="quote.quote.length > 300">
    <blockquote>
      <p ng-if ="!showMore">
        <i class="fa fa-quote-left gh-quote-icon"></i>
        {{quote.quote | limitTo: 300}} {{quote.quote.length > 300 ? '...' : ''}}
      </p>

      <p ng-if ="showMore">
        <i class="fa fa-quote-left gh-quote-icon"></i>
        {{quote.quote}}
      </p>

      <a ng-show="!showMore" ng-click="showMore = !showMore" href="">Show more</a>
      <a ng-show="showMore" ng-click="showMore = !showMore" href="">Show less</a>
    </blockquote>
  </div>

  <div class="form-group text-muted" ng-if="quote.quote.length <= 300">
    <blockquote>
      <p >
        <i class="fa fa-quote-left gh-quote-icon"></i>
        {{quote.quote}}
      </p>
    </blockquote>
  </div>

  <div class="form-group">
    <label for="hyperlink">Hyperlink to</label>
    <div class="gh-link" ng-if="quote.hyperlinks.length">
      <span ng-repeat="link in quote.hyperlinks">
        <img src="http://www.google.com/s2/favicons?domain={{link}}">
        <a target="_blank" href="{{link}}" title="{{link}}">
          {{link | limitTo: 45}}{{link.length > 45 ? '...' : ''}}
        </a>
        <a href="" ng-click="quote.hyperlinks.splice($index, 1); updateLinks()">
          <i class="remove glyphicon glyphicon-remove-circle gh-remove"></i>
        </a>
        <br>
      </span>
    </div>
    <div class="input-group">
      <input class="form-control" type="text" name="hyperlinks" ng-model="quote.hyperlink"
        uib-typeahead="link for link in links | filter:$viewValue" typeahead-template-url="templates/linkItem.html"
        placeholder="Search for quote links or paste a link" ng-keypress="($event.which === 13) && pushLink(quote.hyperlink)">
      <span class="input-group-btn">
        <button class="btn btn-default" type="button" ng-class="{'gh-emphasized-button': quote.hyperlink.length > 0}" ng-click="pushLink(quote.hyperlink);">
          <i class="fa fa-plus-circle"></i> Add
        </button>
      </span>
    </div>
  </div>

  <div class="form-group">
    <label for="tags">Tags</label>
    <div class="gh-label-group" ng-if="quote.tags.length">
      <span ng-repeat="tag in quote.tags">
        <span class="label label-default gh-label" uib-tooltip="{{tag}}">
          {{tag | limitTo: 60}}{{tag.length > 60 ? '...' : ''}}
          <a href="" ng-click="quote.tags.splice($index, 1)">
            <i class="remove glyphicon glyphicon-remove-circle gh-remove"></i>
          </a>
        </span>
      </span>
    </div>
    <div class="input-group">
      <input class="form-control" type="text" name="tags" ng-model="quote.tag" placeholder="Tag name" ng-keypress="($event.which === 13) && pushTag(quote.tag)">
      <span class="input-group-btn">
        <button class="btn btn-default" type="button" ng-class="{'gh-emphasized-button': quote.tag.length > 0}" ng-click="pushTag(quote.tag);">
          <i class="fa fa-plus-circle"></i> Add
        </button>
      </span>
    </div>
  </div>

  <div class="form-group">
    <label for="comment">Comment</label>
    <textarea class="form-control gh-input" name="comment" rows="2" ng-model="quote.comment" placeholder="Place your comment here"></textarea>
  </div>

  <div class="form-group">
    <div class="text-right">
      <button type="button" ng-if="page !== 'all_quotes'" class="btn btn-default gh-save-button" ng-click="clicked = true; toNotepad();">
        <i class="fa fa-list"></i> Overview
      </button>

      <button type="button" ng-if="page === 'all_quotes'" class="btn btn-default gh-save-button" ng-click="clicked = true; backToAllQuotes();">
        <i class="fa fa-list"></i> Show all quotes
      </button>

      <button type="button" class="btn btn-primary gh-save-button" ng-click="clicked = true; updateQuote();" ng-disabled="clicked || quote.tag.length > 0 || quote.hyperlink.length > 0">
        <i class="fa fa-check-circle"></i> Save
      </button>
    </div>
  </div>

</form>